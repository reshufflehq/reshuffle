# Snapshot report for `src/test/deploy.spec.ts`

The actual snapshot is saved in `deploy.spec.ts.snap`.

Generated by [AVA](https://ava.li).

## deploy fails with --app-name and --new-app

> Snapshot 1

    {
      err: ` ‚Ä∫   Error: --app-name= cannot also be provided when using --new-app=‚êä
      `,
      exitCode: 2,
      out: '',
    }

## deploy with json format returns only app json

> Snapshot 1

    {
      err: `‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      built‚êä
      `,
      exitCode: 0,
      out: `{"accountId":"127001","createdAt":"1999-12-31T23:59:59.999Z","updatedAt":"1999-12-31T23:59:59.999Z","id":"abc","name":"fluffy-pancake-66","locked":false,"environments":[{"name":"default","domains":[{"type":"subdomain","name":"a.b.c"}]}],"primaryURL":"https://a.b.c"}‚êä
      `,
    }

## given --app-name but app not in list gives informative message

> Snapshot 1

    {
      err: ` ‚Ä∫   Error: Could not find application named: "not-found"‚êä
      `,
      exitCode: 2,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      `,
    }

## no project associated and 1 app deployed prompts user to select app, deploys correct app and associates directory

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      [?25l[36m?[39m [1mSelect target[22m [90m‚Ä∫[39m [90m- Use arrow-keys. Return to submit.[39m‚êä
      [36m‚ùØ[39m   [36m[4mcrunchy-pancake-03 at https://a.b.c (last deployed: 1999-12-31T23:59:59.999Z)[39m[24m[90m[39m‚êä
          Create new app[90m[39m‚êä
      [2K[1G[32m‚úî[39m [1mSelect target[22m [90m‚Ä∫[39m crunchy-pancake-03 at https://a.b.c (last deployed: 1999-12-31T23:59:59.999Z)‚êä
      [?25hPreparing your cloud deployment! This may take a few moments, please wait‚êä
      Project successfully deployed! Your project is now available at: https://a.b.c‚êä
      `,
    }

## no project associated and 1 app deployed prompts user to select app, deploys new app and associates directory

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      [?25l[36m?[39m [1mSelect target[22m [90m‚Ä∫[39m [90m- Use arrow-keys. Return to submit.[39m‚êä
      [36m‚ùØ[39m   [36m[4mcrunchy-pancake-03 at https://a.b.c (last deployed: 1999-12-31T23:59:59.999Z)[39m[24m[90m[39m‚êä
          Create new app[90m[39m‚êä
      [2K[1G[36m?[39m [1mSelect target[22m [90m‚Ä∫[39m [90m- Use arrow-keys. Return to submit.[39m‚êä
          crunchy-pancake-03 at https://a.b.c (last deployed: 1999-12-31T23:59:59.999Z)[90m[39m‚êä
      [36m‚ùØ[39m   [36m[4mCreate new app[39m[24m[90m[39m‚êä
      [2K[1G[32m‚úî[39m [1mSelect target[22m [90m‚Ä∫[39m Create new app‚êä
      [?25hPreparing your cloud deployment! This may take a few moments, please wait‚êä
      Project successfully deployed! Your project is now available at: https://a.b.c‚êä
      `,
    }

## no project associated and no apps deployed deploys a new app and associates directory

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      Preparing your cloud deployment! This may take a few moments, please wait‚êä
      Project successfully deployed! Your project is now available at: https://a.b.c‚êä
      `,
    }

## project associated deploys to associated app

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      Preparing your cloud deployment! This may take a few moments, please wait‚êä
      Project successfully deployed! Your project is now available at: https://a.b.c‚êä
      `,
    }

## project associated deploys to new app with --new-app

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      Preparing your cloud deployment! This may take a few moments, please wait‚êä
      Project successfully deployed! Your project is now available at: https://a.b.c‚êä
      `,
    }

## project associated with --app-name deploys to named app and does not update association

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      Preparing your cloud deployment! This may take a few moments, please wait‚êä
      Project successfully deployed! Your project is now available at: https://a.b.c‚êä
      `,
    }

## project not associated with --app-name deploys to named app and does not update association

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      Preparing your cloud deployment! This may take a few moments, please wait‚êä
      Project successfully deployed! Your project is now available at: https://a.b.c‚êä
      `,
    }

## upload takes .env and --env options

> Snapshot 1

    {
      err: '',
      exitCode: 0,
      out: `Building and bundling your app! This may take a few moments, please wait‚êä
      ‚êä
      > poll@ build PROJECT_DIR‚êä
      > echo nothing to do‚êä
      ‚êä
      nothing to do‚êä
      Preparing backend...‚êä
      built‚êä
      Uploading your assets! This may take a few moments, please wait‚êä
      Preparing your cloud deployment! This may take a few moments, please wait‚êä
      Project successfully deployed! Your project is now available at: https://a.b.c‚êä
      `,
    }

## upload throws if given --env option with no value

> Snapshot 1

    {
      err: ` ‚Ä∫   Error: Missing environment variable env_missing‚êä
      `,
      exitCode: 2,
      out: '',
    }
